# Makefile for Dotfiles Management
# This Makefile provides an easy interface for managing dotfiles using the `DotMate.sh` script.

# Variables
SCRIPT := ./DotMate.sh

# Colors for output
GREEN := \033[1;32m
YELLOW := \033[1;33m
RESET := \033[0m

# Default target to show available commands and usage
.PHONY: help
help:
	@echo -e "${YELLOW}Usage: make <target>${RESET}"
	@echo -e "${GREEN}Available targets:${RESET}"
	@echo "  backup      - Backup existing dotfiles"
	@echo "  update      - Check for updates in the dotfiles repository"
	@echo "  install     - Install necessary tools and set up environment"
	@echo "  stow        - Create symlinks for dotfiles using stow"
	@echo "  unstow      - Remove symlinks created by stow"
	@echo "  clean       - Clean up broken symlinks in the home directory"
	@echo "  help        - Show this help message"

# Targets

.PHONY: backup
backup: ## Backup existing dotfiles
	$(SCRIPT) backup

.PHONY: update
update: ## Check for updates in the dotfiles repository
	$(SCRIPT) update

.PHONY: install
install: ## Install tools and set up environment
	$(SCRIPT) install

.PHONY: stow
stow: ## Create symlinks for dotfiles using stow
	$(SCRIPT) stow

.PHONY: unstow
unstow: ## Remove symlinks created by stow
	$(SCRIPT) unstow

.PHONY: clean
clean: ## Clean up broken symlinks
	$(SCRIPT) clean
